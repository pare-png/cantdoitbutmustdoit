"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _path = _interopRequireDefault(require("path"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const BASE_OUT_DIR = 'out';

var _default = (baseDir, forgeConfig) => {
  if (forgeConfig.buildIdentifier) {
    let identifier = forgeConfig.buildIdentifier;

    if (typeof identifier === 'function') {
      identifier = identifier();
    }

    if (identifier) return _path.default.resolve(baseDir, BASE_OUT_DIR, identifier);
  }

  return _path.default.resolve(baseDir, BASE_OUT_DIR);
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL291dC1kaXIudHMiXSwibmFtZXMiOlsiQkFTRV9PVVRfRElSIiwiYmFzZURpciIsImZvcmdlQ29uZmlnIiwiYnVpbGRJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInBhdGgiLCJyZXNvbHZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxLQUFyQjs7ZUFFZSxDQUFDQyxPQUFELEVBQWtCQyxXQUFsQixLQUErQztBQUM1RCxNQUFJQSxXQUFXLENBQUNDLGVBQWhCLEVBQWlDO0FBQy9CLFFBQUlDLFVBQVUsR0FBR0YsV0FBVyxDQUFDQyxlQUE3Qjs7QUFDQSxRQUFJLE9BQU9DLFVBQVAsS0FBc0IsVUFBMUIsRUFBc0M7QUFDcENBLE1BQUFBLFVBQVUsR0FBR0EsVUFBVSxFQUF2QjtBQUNEOztBQUNELFFBQUlBLFVBQUosRUFBZ0IsT0FBT0MsY0FBS0MsT0FBTCxDQUFhTCxPQUFiLEVBQXNCRCxZQUF0QixFQUFvQ0ksVUFBcEMsQ0FBUDtBQUNqQjs7QUFDRCxTQUFPQyxjQUFLQyxPQUFMLENBQWFMLE9BQWIsRUFBc0JELFlBQXRCLENBQVA7QUFDRCxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRm9yZ2VDb25maWcgfSBmcm9tICdAZWxlY3Ryb24tZm9yZ2Uvc2hhcmVkLXR5cGVzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5jb25zdCBCQVNFX09VVF9ESVIgPSAnb3V0JztcblxuZXhwb3J0IGRlZmF1bHQgKGJhc2VEaXI6IHN0cmluZywgZm9yZ2VDb25maWc6IEZvcmdlQ29uZmlnKSA9PiB7XG4gIGlmIChmb3JnZUNvbmZpZy5idWlsZElkZW50aWZpZXIpIHtcbiAgICBsZXQgaWRlbnRpZmllciA9IGZvcmdlQ29uZmlnLmJ1aWxkSWRlbnRpZmllcjtcbiAgICBpZiAodHlwZW9mIGlkZW50aWZpZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyKCk7XG4gICAgfVxuICAgIGlmIChpZGVudGlmaWVyKSByZXR1cm4gcGF0aC5yZXNvbHZlKGJhc2VEaXIsIEJBU0VfT1VUX0RJUiwgaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIHBhdGgucmVzb2x2ZShiYXNlRGlyLCBCQVNFX09VVF9ESVIpO1xufTtcbiJdfQ==