"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _asyncOra = require("@electron-forge/async-ora");

var _debug = _interopRequireDefault(require("debug"));

var _initCustom = _interopRequireDefault(require("./init-scripts/init-custom"));

var _initDirectory = _interopRequireDefault(require("./init-scripts/init-directory"));

var _initGit = _interopRequireDefault(require("./init-scripts/init-git"));

var _initNpm = _interopRequireDefault(require("./init-scripts/init-npm"));

var _initStarterFiles = _interopRequireDefault(require("./init-scripts/init-starter-files"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const d = (0, _debug.default)('electron-forge:init');

var _default = async ({
  dir = process.cwd(),
  interactive = false,
  copyCIFiles = false,
  force = false,
  template
}) => {
  _asyncOra.asyncOra.interactive = interactive;
  d(`Initializing in: ${dir}`);
  await (0, _initDirectory.default)(dir, force);
  await (0, _initGit.default)(dir);
  await (0, _initStarterFiles.default)(dir, {
    copyCIFiles
  });
  await (0, _initNpm.default)(dir);

  if (template) {
    await (0, _initCustom.default)(dir, template);
  }
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvaW5pdC50cyJdLCJuYW1lcyI6WyJkIiwiZGlyIiwicHJvY2VzcyIsImN3ZCIsImludGVyYWN0aXZlIiwiY29weUNJRmlsZXMiLCJmb3JjZSIsInRlbXBsYXRlIiwiYXN5bmNPcmEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsQ0FBQyxHQUFHLG9CQUFNLHFCQUFOLENBQVY7O2VBeUJlLE9BQU87QUFDcEJDLEVBQUFBLEdBQUcsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLEVBRGM7QUFFcEJDLEVBQUFBLFdBQVcsR0FBRyxLQUZNO0FBR3BCQyxFQUFBQSxXQUFXLEdBQUcsS0FITTtBQUlwQkMsRUFBQUEsS0FBSyxHQUFHLEtBSlk7QUFLcEJDLEVBQUFBO0FBTG9CLENBQVAsS0FNSTtBQUNqQkMscUJBQVNKLFdBQVQsR0FBdUJBLFdBQXZCO0FBRUFKLEVBQUFBLENBQUMsQ0FBRSxvQkFBbUJDLEdBQUksRUFBekIsQ0FBRDtBQUVBLFFBQU0sNEJBQWNBLEdBQWQsRUFBbUJLLEtBQW5CLENBQU47QUFDQSxRQUFNLHNCQUFRTCxHQUFSLENBQU47QUFDQSxRQUFNLCtCQUFZQSxHQUFaLEVBQWlCO0FBQUVJLElBQUFBO0FBQUYsR0FBakIsQ0FBTjtBQUNBLFFBQU0sc0JBQVFKLEdBQVIsQ0FBTjs7QUFDQSxNQUFJTSxRQUFKLEVBQWM7QUFDWixVQUFNLHlCQUFXTixHQUFYLEVBQWdCTSxRQUFoQixDQUFOO0FBQ0Q7QUFDRixDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXN5bmNPcmEgfSBmcm9tICdAZWxlY3Ryb24tZm9yZ2UvYXN5bmMtb3JhJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5cbmltcG9ydCBpbml0Q3VzdG9tIGZyb20gJy4vaW5pdC1zY3JpcHRzL2luaXQtY3VzdG9tJztcbmltcG9ydCBpbml0RGlyZWN0b3J5IGZyb20gJy4vaW5pdC1zY3JpcHRzL2luaXQtZGlyZWN0b3J5JztcbmltcG9ydCBpbml0R2l0IGZyb20gJy4vaW5pdC1zY3JpcHRzL2luaXQtZ2l0JztcbmltcG9ydCBpbml0TlBNIGZyb20gJy4vaW5pdC1zY3JpcHRzL2luaXQtbnBtJztcbmltcG9ydCBpbml0U3RhcnRlciBmcm9tICcuL2luaXQtc2NyaXB0cy9pbml0LXN0YXJ0ZXItZmlsZXMnO1xuXG5jb25zdCBkID0gZGVidWcoJ2VsZWN0cm9uLWZvcmdlOmluaXQnKTtcblxuZXhwb3J0IGludGVyZmFjZSBJbml0T3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgcGF0aCB0byB0aGUgYXBwIHRvIGJlIGluaXRpYWxpemVkXG4gICAqL1xuICBkaXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSBzZW5zaWJsZSBkZWZhdWx0cyBvciBwcm9tcHQgdGhlIHVzZXIgdmlzdWFsbHlcbiAgICovXG4gIGludGVyYWN0aXZlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gY29weSBUcmF2aXMgYW5kIEFwcFZleW9yIENJIGZpbGVzXG4gICAqL1xuICBjb3B5Q0lGaWxlcz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIG92ZXJ3cml0ZSBhbiBleGlzdGluZyBkaXJlY3RvcnlcbiAgICovXG4gIGZvcmNlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBjdXN0b20gdGVtcGxhdGUgdG8gdXNlLiBJZiBsZWZ0IGVtcHR5LCB0aGUgZGVmYXVsdCB0ZW1wbGF0ZSBpcyB1c2VkXG4gICAqL1xuICB0ZW1wbGF0ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHtcbiAgZGlyID0gcHJvY2Vzcy5jd2QoKSxcbiAgaW50ZXJhY3RpdmUgPSBmYWxzZSxcbiAgY29weUNJRmlsZXMgPSBmYWxzZSxcbiAgZm9yY2UgPSBmYWxzZSxcbiAgdGVtcGxhdGUsXG59OiBJbml0T3B0aW9ucykgPT4ge1xuICBhc3luY09yYS5pbnRlcmFjdGl2ZSA9IGludGVyYWN0aXZlO1xuXG4gIGQoYEluaXRpYWxpemluZyBpbjogJHtkaXJ9YCk7XG5cbiAgYXdhaXQgaW5pdERpcmVjdG9yeShkaXIsIGZvcmNlKTtcbiAgYXdhaXQgaW5pdEdpdChkaXIpO1xuICBhd2FpdCBpbml0U3RhcnRlcihkaXIsIHsgY29weUNJRmlsZXMgfSk7XG4gIGF3YWl0IGluaXROUE0oZGlyKTtcbiAgaWYgKHRlbXBsYXRlKSB7XG4gICAgYXdhaXQgaW5pdEN1c3RvbShkaXIsIHRlbXBsYXRlKTtcbiAgfVxufTtcbiJdfQ==